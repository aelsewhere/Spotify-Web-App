{% extends "base.html" %}

{% block title %}Spotify Dashboard{% endblock %}

{% block content %}
<div class="container">
    <h1>Spotify Dashboard</h1>

    <div class="widget-container" style="margin-bottom: 50px; margin-top: 50px;">
        <!-- Top Songs Widget -->
        <div class="widget animate__animated animate__fadeIn">
            <h2><i class="fas fa-music"></i> Your Top Songs</h2>
            <div class="flexslider">
                {% if tracks %}
                    <ul class="slides">
                        {% for track in tracks %}
                            <li>
                                <strong>{{ track.name }}</strong> by {{ track.artist }} (Album: {{ track.album }})
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>No top tracks found.</p>
                {% endif %}
            </div>
        </div>

        <!-- Recently Played Songs Widget -->
        <div class="widget animate__animated animate__fadeIn">
            <h2><i class="fas fa-play-circle"></i> Your Recently Played Songs</h2>
            <ul>
                {% for track in recent_tracks %}
                    <li>
                        <strong>{{ track.name }}</strong> by {{ track.artist }} (Album: {{ track.album }})
                    </li>
                {% else %}
                    <li>No recently played tracks found.</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- Buttons Section -->
    <div class="button-container" style="text-align: center; margin-top: 30px;">
        <a href="/monthly-generate" class="button btn-secondary">Monthly Top 50</a>
        <a href="/mood-select" class="button btn-secondary">Mood Selection</a>
        <a href="/media-select" class="button btn-disabled">Media Selection</a>
    </div>

    <!-- Playback Widget -->
    <div class="widget animate__animated animate__fadeIn playback-widget" style="display: flex; align-items: center; gap: 20px;">
        <!-- Album Cover -->
        <div class="album-cover">
            <!-- Placeholder for album cover -->
        </div>
        <div>
            <div class="song-info">
                <h2 class="song-name" style="margin: 0;">Current Song Title</h2>
                <p class="artist-name" style="margin: 0;">Current Song Artist</p>
                <p class="album-name" style="margin: 0; font-style: italic;">Current Song Album</p>
            </div>

            <!-- Playback Controls -->
            <div class="playback-controls" style="margin-top: 10px; display: flex; gap: 10px;">
                <button id="playButton" class="button btn-primary">Play</button>
                <button id="pauseButton" class="button btn-secondary">Pause</button>
                <button id="nextButton" class="button btn-secondary">Next</button>
                <button id="previousButton" class="button btn-secondary">Previous</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}