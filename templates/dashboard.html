<html>
    <head>
        <title>Spotify Dashboard</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/animate.css') }}" />
        <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/flex-slider.css') }}" />
        <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/fontawesome.css') }}" />
        <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/owl.css') }}" />
        <style>
            .widget-container {
                display: flex;
                gap: 20px;
                margin-top: 20px;
            }
            .widget {
                flex: 1;
                background-color: #f9f9f9;
                border: 1px solid #ddd;
                border-radius: 8px;
                padding: 15px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }
            .widget h2 {
                font-size: 1.5em;
                margin-bottom: 10px;
                color: #333;
            }
            .widget ul {
                list-style: none;
                padding: 0;
            }
            .widget ul li {
                margin-bottom: 10px;
                font-size: 1em;
                color: #555;
            }
            .widget ul li strong {
                color: #000;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Spotify Dashboard</h1>
            <p>Welcome to your personalized Spotify dashboard!</p>

            <div class="widget-container">
                <!-- Top Songs Widget -->
                <div class="widget animate__animated animate__fadeIn">
                    <h2><i class="fas fa-music"></i> Your Top Songs</h2>
                    <div class="flexslider">
                        {% if tracks %}
                            <ul class="slides">
                                {% for track in tracks %}
                                    <li>
                                        <strong>{{ track.name }}</strong> by {{ track.artist }} (Album: {{ track.album }})
                                    </li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <p>No top tracks found.</p>
                        {% endif %}
                    </div>
                    <div>
                        <ul>
                            {% for track in tracks %}
                                <li>
                                    <strong>{{ track.name }}</strong> by {{ track.artist }} (Album: {{ track.album }})
                                </li>
                            {% else %}
                                <li>No top tracks found.</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>

                <!-- Recently Played Songs Widget -->
                <div class="widget animate__animated animate__fadeIn">
                    <h2><i class="fas fa-play-circle"></i> Your Recently Played Songs</h2>
                    <ul>
                        {% for track in recent_tracks %}
                            <li>
                                <strong>{{ track.name }}</strong> by {{ track.artist }} (Album: {{ track.album }})
                            </li>
                        {% else %}
                            <li>No recently played tracks found.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>

            <!-- Buttons Section -->
            <div class="button-container" style="text-align: center; margin-top: 30px;">
                <a href="/previous-page" class="btn" style="margin: 0 10px; padding: 10px 20px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px;">Previous</a>
                <a href="/mood-select.html" class="btn" style="margin: 0 10px; padding: 10px 20px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px;">Mood Select</a>
                <a href="/next-page" class="btn" style="margin: 0 10px; padding: 10px 20px; background-color: #dc3545; color: white; text-decoration: none; border-radius: 5px;">Next</a>
            </div>
        </div>
        <script src="{{ url_for('static', filename='assets/js/jquery.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/js/jquery.flexslider.js') }}"></script>
        <script>
            $(document).ready(function() {
                $('.flexslider').flexslider({
                    animation: "slide"
                });
            });
        </script>
    </body>
</html>